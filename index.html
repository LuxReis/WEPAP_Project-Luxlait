<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="autor" content="GUO Kaidi, FRISCH Tim, FRIEDERICI Thibaut, RIBEIRO COSTA Pedro, GAMASS Mihails, FORMICA Luca">
    <link href="frontend/styles/css/bootstrap.min.css" rel="stylesheet">
    <link href="frontend/styles/navigation.css" rel="stylesheet">
    <link href="frontend/styles/customStyles.css" rel="stylesheet">
    <link href="frontend/styles/productCatalog.css" rel="stylesheet">
    <link href="frontend/styles/history.css" rel="stylesheet">
    <link href="frontend/styles/footer.css" rel="stylesheet">
    <link rel="icon" href="frontend\images\iconLuxlait.png">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <title>LuxLait</title>
</head>
<body>

<div id="navigation"></div>
<div class="watcher"></div>
<div id="content"></div>
<div id="footer"></div>

<script>
    $(document).ready(function() {
        // Lade die Navigationsleiste
        $("#navigation").load("frontend/includes/navigation.html");

        // Definiere eine Funktion zum Laden der Seite basierend auf dem Parameter
        function loadPage(page) {
            switch(page) {
                case "":
                    $("#content").load("frontend/includes/home.html");
                    break;
                default:
                    $("#content").load("frontend/includes/" + page + ".html");
                    break;
            }
        }

        // Überprüfe, ob eine Seite übergeben wurde
        let page = getParameterByName('page');
        if (page === null || page === "") { // Wenn die Seite leer ist oder nicht definiert wurde
            loadPage(""); // Lade die Home-Seite
        } else {
            // Überprüfe, ob die Seite existiert
            $.ajax({
                url: "frontend/includes/" + page + ".html",
                type: 'HEAD',
                error: function() {
                    loadPage(""); // Lade die Home-Seite, wenn die Seite nicht existiert
                },
                success: function() {
                    loadPage(page); // Andernfalls lade die angegebene Seite
                }
            });
        }

        // Lade den Footer
        $("#footer").load("frontend/includes/footer.html");

        // Funktion zum Extrahieren von Parametern aus der URL
        function getParameterByName(name, url = window.location.href) {
            name = name.replace(/[\[\]]/g, '\\$&');
            let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }
    });
</script>
<script src="frontend/scripts/js/bootstrap.bundle.min.js"></script>
</body>
</html>
